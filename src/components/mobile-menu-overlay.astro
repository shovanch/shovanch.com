---
import NavLink from './nav-link.astro';
import SocialLinks from './social-links.astro';
import { menuItems } from '~/config/site';

type Props = {
  class?: string;
};

const { class: className = '' } = Astro.props;
---

<div
  id="mobile-menu-overlay"
  class={`fixed inset-0 z-40 flex flex-col transition-all duration-300 ease-in-out ${className}`}
  style="visibility: hidden; opacity: 0;"
  aria-hidden="true"
  role="dialog"
  aria-modal="true"
  aria-label="Mobile navigation menu"
>
  <!-- Background overlay -->
  <div
    class="absolute inset-0 bg-theme-bg/95 backdrop-blur-sm"
    id="mobile-menu-backdrop"
  >
  </div>

  <!-- Menu content -->
  <div
    class="relative z-10 mx-auto mt-32 flex h-full w-full max-w-3xl flex-col p-4 md:mt-0 md:justify-center"
    id="mobile-menu-content"
  >
    <!-- Navigation links -->
    <nav class="flex flex-col gap-7">
      {
        menuItems.map((item) => (
          <NavLink
            href={item.url}
            class="mobile-menu-link block w-max py-2 text-3xl! font-semibold text-theme-text-secondary capitalize transition-all duration-200 hover:text-theme-text"
          >
            {item.label}
          </NavLink>
        ))
      }
    </nav>

    <!-- Social links at bottom -->
    <div class="mt-16">
      <SocialLinks />
    </div>
  </div>
</div>

<style>
  /* Menu open animations - whole overlay fades in together */
  :global(.mobile-menu-open) #mobile-menu-overlay {
    visibility: visible !important;
    opacity: 1 !important;
  }

  /* Prevent body scroll when menu is open */
  :global(.mobile-menu-open) {
    overflow: hidden;
  }
</style>
